import{_ as q,A as P,I as U,g as L,h as W,i as x,j as Q,k as O}from"./index-5072b23b.js";import{u as j}from"./subscribe-979913a8.js";import{b as N}from"./browser-e933942f.js";import{i as T}from"./index-2cfd342e.js";import{X as K,u as R,A as B,c as F,l as X,E as z,o as d,a as y,b as a,H as k,I as h,G as w,w as p,i as _,e as A,g as E,t as H,F as M,C,S as J,Y,Z,$ as G,T as $,U as ee,W as te}from"./vendor-bc3e0ca2.js";const oe="data:image/webp;base64,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";var se=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,l=[],r=0;r<t.rangeCount;r++)l.push(t.getRangeAt(r));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||l.forEach(function(m){t.addRange(m)}),e&&e.focus()}},ae=se,D={"text/plain":"Text","text/html":"Url",default:"Text"},ne="Copy to clipboard: #{key}, Enter";function le(t){var e=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function re(t,e){var l,r,m,g,u,o,c=!1;e||(e={}),l=e.debug||!1;try{m=ae(),g=document.createRange(),u=document.getSelection(),o=document.createElement("span"),o.textContent=t,o.ariaHidden="true",o.style.all="unset",o.style.position="fixed",o.style.top=0,o.style.clip="rect(0, 0, 0, 0)",o.style.whiteSpace="pre",o.style.webkitUserSelect="text",o.style.MozUserSelect="text",o.style.msUserSelect="text",o.style.userSelect="text",o.addEventListener("copy",function(n){if(n.stopPropagation(),e.format)if(n.preventDefault(),typeof n.clipboardData>"u"){l&&console.warn("unable to use e.clipboardData"),l&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var i=D[e.format]||D.default;window.clipboardData.setData(i,t)}else n.clipboardData.clearData(),n.clipboardData.setData(e.format,t);e.onCopy&&(n.preventDefault(),e.onCopy(n.clipboardData))}),document.body.appendChild(o),g.selectNodeContents(o),u.addRange(g);var s=document.execCommand("copy");if(!s)throw new Error("copy command was unsuccessful");c=!0}catch(n){l&&console.error("unable to copy using execCommand: ",n),l&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),c=!0}catch(i){l&&console.error("unable to copy using clipboardData: ",i),l&&console.error("falling back to prompt"),r=le("message"in e?e.message:ne),window.prompt(r,t)}}finally{u&&(typeof u.removeRange=="function"?u.removeRange(g):u.removeAllRanges()),o&&document.body.removeChild(o),m()}return c}var ce=re;const ie=K(ce);const v=t=>(ee("data-v-ed254218"),t=t(),te(),t),de={class:"testflight-container"},pe={class:"step-wrapper"},ue={class:"first-step step-cont",style:{"margin-bottom":"40px"}},me=v(()=>a("div",{class:"step-title"},"第一步",-1)),Ae=v(()=>a("div",{class:"step-title-2"},"安装Shadowrocket",-1)),ve={key:0,class:"step-desc",style:{"font-weight":"800",color:"#ff4200"}},ge={key:1,class:"step-desc",style:{"margin-bottom":"15px"}},fe=["innerHTML"],_e={class:"panel-app-wrap"},be={class:"panel-app"},ye=v(()=>a("div",{class:"panel-logo"},[a("img",{src:oe,class:"app-logo"})],-1)),he={class:"panel-cont"},we={class:"panel-title"},ke={class:"panel-desc"},Ee={class:"panel-interact"},Se=["href"],He={class:"btn-app-interact"},Ce={class:"second-step step-cont"},De=v(()=>a("div",{class:"step-title"},"第二步",-1)),Ve=v(()=>a("div",{class:"step-title-2"},"一键导入您的VPN节点",-1)),Ie={class:"panel-buttons"},qe=v(()=>a("div",{style:{border:"0",color:"#000","margin-top":"20px"}},"请确保该页面是在（Safari浏览器）打开 如您在微信，QQ等平台打开将无法导入",-1)),Pe=v(()=>a("div",{style:{border:"0",color:"#000","margin-top":"10px"}},"提示:导入成功后，请选择您需要的地区线路连接即可",-1)),Ue=["src"],Le={__name:"Testflight",setup(t){const e=R(),l=B({visible:!1,imgUrl:""}),r=F(()=>T(X.get(P))),{subscribe:m}=j(1);function g(c,s){console.log(c),window.location.href=c;var n=setTimeout(()=>{s&&s()},2e3);window.onblur=function(){clearTimeout(n)}}function u(c,s){g(c,()=>{C.info(`您还没有安装${s}客户端，或者客户端已打开`)})}async function o(c){const s=m.token,n=m.subscribe_url;let i="";switch(n?i=n:i=`${location.origin}/api/v1/client/subscribe?token=${s}`,c){case"copy":ie(i),C.success("链接已复制");break;case"qrcode":const S=await N.toDataURL(i);l.imgUrl=S,l.visible=!0;break;case"shadowrocket":u("shadowrocket://add/sub://"+window.btoa(i+"&flag=shadowrocket").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")+"?remark="+O,c);break}}return(c,s)=>{const n=J,i=Y,S=Z,V=G,I=$,b=z("wave");return d(),y(M,null,[a("div",de,[a("div",pe,[a("div",ue,[me,Ae,r.value?(d(),y("div",ve,"*由于IOS特殊机制不能直接在App Store购买会员,请阁下先点击下方登陆购买正式会员服务")):k("",!0),r.value?(d(),y("div",ge,[h((d(),w(n,{type:"primary",onClick:s[0]||(s[0]=f=>A(e).push("/login"))},{default:p(()=>[_("登陆购买成为正式会员")]),_:1})),[[b]])])):k("",!0),E(S,{style:{"margin-bottom":"10px"},class:"collpase-html"},{default:p(()=>[E(i,{header:A(U),collapsible:r.value?"disabled":""},{default:p(()=>[r.value?k("",!0):(d(),y("div",{key:0,innerHTML:A(L)},null,8,fe))]),_:1},8,["header","collapsible"])]),_:1}),a("div",_e,[a("div",be,[ye,a("div",he,[a("div",we,H(A(W)),1),a("div",ke,H(A(x)),1)]),a("div",Ee,[a("a",{href:A(Q),target:"_blank"},[h((d(),y("button",He,[_("安裝")])),[[b]])],8,Se)])])])]),a("div",Ce,[De,Ve,r.value?(d(),w(V,{key:0,message:"订阅链接登录后可见",type:"warning","show-icon":"",style:{"margin-top":"10px"}},{action:p(()=>[E(n,{size:"small",type:"text",onClick:s[1]||(s[1]=f=>A(e).push("/login"))},{default:p(()=>[_("立即登录")]),_:1})]),_:1})):k("",!0),a("div",Ie,[h((d(),w(n,{disabled:r.value,onClick:s[2]||(s[2]=f=>o("shadowrocket"))},{default:p(()=>[_("一键导入")]),_:1},8,["disabled"])),[[b]]),h((d(),w(n,{disabled:r.value,onClick:s[3]||(s[3]=f=>o("copy"))},{default:p(()=>[_("复制订阅链接")]),_:1},8,["disabled"])),[[b]]),h((d(),w(n,{disabled:r.value,onClick:s[4]||(s[4]=f=>o("qrcode"))},{default:p(()=>[_("订阅二维码")]),_:1},8,["disabled"])),[[b]])]),qe,Pe])])]),E(I,{open:l.visible,"onUpdate:open":s[5]||(s[5]=f=>l.visible=f),title:"二维码",footer:null},{default:p(()=>[a("img",{src:l.imgUrl,width:"200",style:{display:"block",margin:"50px auto"}},null,8,Ue)]),_:1},8,["open"])],64)}}},Ne=q(Le,[["__scopeId","data-v-ed254218"]]);export{Ne as default};
